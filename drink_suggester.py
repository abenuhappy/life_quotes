# -*- coding: utf-8 -*-
"""
ìƒë…„ì›”ì¼ ê¸°ë°˜ ì˜¤ëŠ˜ì˜ í•œì” ì¶”ì²œ ëª¨ë“ˆ
"""
import hashlib
from datetime import datetime
from typing import Dict, Optional


class DrinkSuggester:
    """ìƒë…„ì›”ì¼ê³¼ ë‚ ì§œ ê¸°ë°˜ ìŒë£Œ ì¶”ì²œ í´ë˜ìŠ¤"""
    
    # ì»¤í”¼ ì¢…ë¥˜
    COFFEES = [
        {'name': 'ì—ìŠ¤í”„ë ˆì†Œ', 'type': 'coffee', 'description': 'ì§„í•œ ë§›ê³¼ ê°•ë ¬í•œ ì¹´í˜ì¸ìœ¼ë¡œ í•˜ë£¨ë¥¼ ì‹œì‘í•˜ì„¸ìš”.'},
        {'name': 'ì•„ë©”ë¦¬ì¹´ë…¸', 'type': 'coffee', 'description': 'ê¹”ë”í•˜ê³  ë¶€ë“œëŸ¬ìš´ ë§›ìœ¼ë¡œ í•˜ë£¨ë¥¼ í¸ì•ˆí•˜ê²Œ ì‹œì‘í•˜ì„¸ìš”.'},
        {'name': 'ì¹´í˜ë¼ë–¼', 'type': 'coffee', 'description': 'ë¶€ë“œëŸ¬ìš´ ìš°ìœ ì™€ í•¨ê»˜í•˜ëŠ” ë”°ëœ»í•œ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ì¹´í‘¸ì¹˜ë…¸', 'type': 'coffee', 'description': 'í¼ ë°€í¬ì˜ ë¶€ë“œëŸ¬ì›€ê³¼ ì»¤í”¼ì˜ ì§„í•œ ë§›ì´ ì¡°í™”ë¡­ìŠµë‹ˆë‹¤.'},
        {'name': 'ì¹´ë¼ë©œ ë§ˆí‚¤ì•„í† ', 'type': 'coffee', 'description': 'ë‹¬ì½¤í•œ ì¹´ë¼ë©œê³¼ í•¨ê»˜í•˜ëŠ” íŠ¹ë³„í•œ í•˜ë£¨ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”.'},
        {'name': 'ë°”ë‹ë¼ ë¼ë–¼', 'type': 'coffee', 'description': 'ì€ì€í•œ ë°”ë‹ë¼ í–¥ìœ¼ë¡œ ë§ˆìŒì„ ë‹¬ë˜ì£¼ëŠ” í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ì½œë“œë¸Œë£¨', 'type': 'coffee', 'description': 'ì‹œì›í•˜ê³  ê¹”ë”í•œ ë§›ìœ¼ë¡œ ìƒì¾Œí•œ í•˜ë£¨ë¥¼ ì‹œì‘í•˜ì„¸ìš”.'},
        {'name': 'ì¹´í˜ëª¨ì¹´', 'type': 'coffee', 'description': 'ì´ˆì½œë¦¿ê³¼ ì»¤í”¼ì˜ ë‹¬ì½¤í•œ ì¡°í•©ìœ¼ë¡œ ê¸°ë¶„ì„ ì¢‹ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.'},
        {'name': 'í”Œë« í™”ì´íŠ¸', 'type': 'coffee', 'description': 'ì§„í•œ ì—ìŠ¤í”„ë ˆì†Œì™€ ë¶€ë“œëŸ¬ìš´ ìš°ìœ ì˜ ì™„ë²½í•œ ê· í˜•ì…ë‹ˆë‹¤.'},
        {'name': 'ì•„ì´ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸', 'type': 'coffee', 'description': 'ì‹œì›í•˜ê²Œ ë§ˆì‹œëŠ” ê¹”ë”í•œ ì»¤í”¼ë¡œ ìƒì¾Œí•¨ì„ ëŠê»´ë³´ì„¸ìš”.'},
        {'name': 'ë”ì¹˜ì»¤í”¼', 'type': 'coffee', 'description': 'ë¶€ë“œëŸ½ê³  ê¹Šì€ ë§›ìœ¼ë¡œ ì—¬ìœ ë¡œìš´ ì‹œê°„ì„ ì¦ê¸°ì„¸ìš”.'},
        {'name': 'ì¹´í˜ì˜¤ë ˆ', 'type': 'coffee', 'description': 'ìš°ìœ ì™€ ì»¤í”¼ì˜ ë¶€ë“œëŸ¬ìš´ ì¡°í™”ë¡œ ë”°ëœ»í•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'ì•„ì´ìŠ¤ ë¼ë–¼', 'type': 'coffee', 'description': 'ì‹œì›í•˜ê³  ë¶€ë“œëŸ¬ìš´ ìš°ìœ  ì»¤í”¼ë¡œ ìƒì¾Œí•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'ëŒì²´ ë¼ë–¼', 'type': 'coffee', 'description': 'ë‹¬ì½¤í•œ ì—°ìœ ì™€ í•¨ê»˜í•˜ëŠ” ë¶€ë“œëŸ¬ìš´ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'í™”ì´íŠ¸ ì´ˆì½œë¦¿ ëª¨ì¹´', 'type': 'coffee', 'description': 'ë¶€ë“œëŸ¬ìš´ í™”ì´íŠ¸ ì´ˆì½œë¦¿ê³¼ ì»¤í”¼ì˜ ë‹¬ì½¤í•œ ë§Œë‚¨ì…ë‹ˆë‹¤.'},
        {'name': 'í—¤ì´ì¦ë„› ë¼ë–¼', 'type': 'coffee', 'description': 'ê³ ì†Œí•œ í—¤ì´ì¦ë„› í–¥ìœ¼ë¡œ ë”°ëœ»í•œ í•˜ë£¨ë¥¼ ì‹œì‘í•˜ì„¸ìš”.'},
        {'name': 'ì•„ì´ìŠ¤ ì¹´í‘¸ì¹˜ë…¸', 'type': 'coffee', 'description': 'ì‹œì›í•œ í¼ ë°€í¬ì™€ í•¨ê»˜í•˜ëŠ” ìƒì¾Œí•œ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ì¹´ë¼ë©œ í”„ë¼í‘¸ì¹˜ë…¸', 'type': 'coffee', 'description': 'ë‹¬ì½¤í•œ ì¹´ë¼ë©œê³¼ í•¨ê»˜í•˜ëŠ” ì‹œì›í•œ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ë°”ë‹ë¼ í”„ë¼í‘¸ì¹˜ë…¸', 'type': 'coffee', 'description': 'ì€ì€í•œ ë°”ë‹ë¼ í–¥ì˜ ì‹œì›í•œ í•œì”ìœ¼ë¡œ ê¸°ë¶„ì„ ì „í™˜í•˜ì„¸ìš”.'},
        {'name': 'ì•„í¬ê°€í† ', 'type': 'coffee', 'description': 'ì•„ì´ìŠ¤í¬ë¦¼ê³¼ ì—ìŠ¤í”„ë ˆì†Œì˜ ë‹¬ì½¤í•œ ì¡°í•©ì…ë‹ˆë‹¤.'},
        {'name': 'ë¦¬ìŠ¤íŠ¸ë ˆí† ', 'type': 'coffee', 'description': 'ì—ìŠ¤í”„ë ˆì†Œë³´ë‹¤ ë” ì§„í•˜ê³  ê°•ë ¬í•œ ë§›ì„ ì¦ê²¨ë³´ì„¸ìš”.'},
        {'name': 'ë¡± ë¸”ë™', 'type': 'coffee', 'description': 'ì—ìŠ¤í”„ë ˆì†Œì— ëœ¨ê±°ìš´ ë¬¼ì„ ë¶€ì€ ê¹”ë”í•œ ì»¤í”¼ì…ë‹ˆë‹¤.'},
        {'name': 'ë§ˆí‚¤ì•„í† ', 'type': 'coffee', 'description': 'ì—ìŠ¤í”„ë ˆì†Œì— ìš°ìœ  ê±°í’ˆì„ ì‚´ì§ ì–¹ì€ ìš°ì•„í•œ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ì½˜ íŒŒë‚˜', 'type': 'coffee', 'description': 'ì—ìŠ¤í”„ë ˆì†Œì— íœ˜í•‘ í¬ë¦¼ì„ ì˜¬ë¦° ë‹¬ì½¤í•œ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ë¹„ì—”ë‚˜ ì»¤í”¼', 'type': 'coffee', 'description': 'ì—ìŠ¤í”„ë ˆì†Œì— íœ˜í•‘ í¬ë¦¼ì„ ì˜¬ë¦° ìš°ì•„í•œ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ì•„ì´ìŠ¤ ì¹´ë¼ë©œ ë§ˆí‚¤ì•„í† ', 'type': 'coffee', 'description': 'ì‹œì›í•œ ì¹´ë¼ë©œê³¼ í•¨ê»˜í•˜ëŠ” ìƒì¾Œí•œ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ì•„ì´ìŠ¤ ë°”ë‹ë¼ ë¼ë–¼', 'type': 'coffee', 'description': 'ì‹œì›í•œ ë°”ë‹ë¼ í–¥ìœ¼ë¡œ ìƒì¾Œí•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'ì•„ì´ìŠ¤ ì¹´í˜ëª¨ì¹´', 'type': 'coffee', 'description': 'ì‹œì›í•œ ì´ˆì½œë¦¿ ì»¤í”¼ë¡œ ë‹¬ì½¤í•œ í•˜ë£¨ë¥¼ ì¦ê¸°ì„¸ìš”.'},
        {'name': 'ì¹´í˜ ë¸Œë ˆë² ', 'type': 'coffee', 'description': 'ì—ìŠ¤í”„ë ˆì†Œì— ìš°ìœ ì™€ í¬ë¦¼ì„ ë„£ì€ ë¶€ë“œëŸ¬ìš´ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ì•„ì´ë¦¬ì‹œ ì»¤í”¼', 'type': 'coffee', 'description': 'ìœ„ìŠ¤í‚¤ì™€ í¬ë¦¼ì´ ë“¤ì–´ê°„ íŠ¹ë³„í•œ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'í•«ì´ˆì½”', 'type': 'coffee', 'description': 'ë”°ëœ»í•˜ê³  ë‹¬ì½¤í•œ ì´ˆì½œë¦¿ìœ¼ë¡œ ë§ˆìŒì„ ë‹¬ë˜ì£¼ëŠ” í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ì´ˆì½”ë¼ë–¼', 'type': 'coffee', 'description': 'ë¶€ë“œëŸ¬ìš´ ìš°ìœ ì™€ ì§„í•œ ì´ˆì½œë¦¿ì˜ ë‹¬ì½¤í•œ ì¡°í•©ì…ë‹ˆë‹¤.'},
        {'name': 'ì•„ì´ìŠ¤ ì´ˆì½”ë¼ë–¼', 'type': 'coffee', 'description': 'ì‹œì›í•œ ì´ˆì½œë¦¿ ìš°ìœ ë¡œ ìƒì¾Œí•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'í™”ì´íŠ¸ ì´ˆì½”', 'type': 'coffee', 'description': 'ë¶€ë“œëŸ½ê³  ë‹¬ì½¤í•œ í™”ì´íŠ¸ ì´ˆì½œë¦¿ìœ¼ë¡œ íŠ¹ë³„í•œ í•œì”ì„ ì¦ê¸°ì„¸ìš”.'},
        {'name': 'ë‹¤í¬ ì´ˆì½”', 'type': 'coffee', 'description': 'ì§„í•˜ê³  ê¹Šì€ ë‹¤í¬ ì´ˆì½œë¦¿ì˜ í’ë¶€í•œ ë§›ì„ ëŠê»´ë³´ì„¸ìš”.'},
        {'name': 'ë¯¼íŠ¸ ì´ˆì½”', 'type': 'coffee', 'description': 'ìƒì¾Œí•œ ë¯¼íŠ¸ì™€ ë‹¬ì½¤í•œ ì´ˆì½œë¦¿ì˜ ì¡°í™”ë¡œìš´ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ë°”ë‹ë¼ ì´ˆì½”', 'type': 'coffee', 'description': 'ì€ì€í•œ ë°”ë‹ë¼ì™€ ì´ˆì½œë¦¿ì˜ ë¶€ë“œëŸ¬ìš´ ë§Œë‚¨ì…ë‹ˆë‹¤.'},
        {'name': 'ì¹´ë¼ë©œ ì´ˆì½”', 'type': 'coffee', 'description': 'ë‹¬ì½¤í•œ ì¹´ë¼ë©œê³¼ ì´ˆì½œë¦¿ì˜ ë‹¬ì½¤í•œ ì¡°í•©ì…ë‹ˆë‹¤.'},
        {'name': 'í—¤ì´ì¦ë„› ì´ˆì½”', 'type': 'coffee', 'description': 'ê³ ì†Œí•œ í—¤ì´ì¦ë„›ê³¼ ì´ˆì½œë¦¿ì˜ ë”°ëœ»í•œ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ì˜¤ë ˆì˜¤ ì´ˆì½”', 'type': 'coffee', 'description': 'ë°”ì‚­í•œ ì˜¤ë ˆì˜¤ì™€ ì´ˆì½œë¦¿ì˜ ë‹¬ì½¤í•œ í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ë§ˆì‹œë©œë¡œ ì´ˆì½”', 'type': 'coffee', 'description': 'ë¶€ë“œëŸ¬ìš´ ë§ˆì‹œë©œë¡œì™€ ì´ˆì½œë¦¿ì˜ ë‹¬ì½¤í•œ ì¡°í•©ì…ë‹ˆë‹¤.'},
        {'name': 'ì•„ì´ìŠ¤ í™”ì´íŠ¸ ì´ˆì½”', 'type': 'coffee', 'description': 'ì‹œì›í•œ í™”ì´íŠ¸ ì´ˆì½œë¦¿ìœ¼ë¡œ ìƒì¾Œí•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'ì•„ì´ìŠ¤ ë¯¼íŠ¸ ì´ˆì½”', 'type': 'coffee', 'description': 'ì‹œì›í•œ ë¯¼íŠ¸ ì´ˆì½œë¦¿ìœ¼ë¡œ ê¸°ë¶„ì„ ì „í™˜í•˜ì„¸ìš”.'},
        {'name': 'ì´ˆì½” í”„ë¼í‘¸ì¹˜ë…¸', 'type': 'coffee', 'description': 'ì‹œì›í•œ ì´ˆì½œë¦¿ í”„ë¼í‘¸ì¹˜ë…¸ë¡œ ë‹¬ì½¤í•œ í•˜ë£¨ë¥¼ ì¦ê¸°ì„¸ìš”.'},
        {'name': 'ë”ë¸” ì´ˆì½”', 'type': 'coffee', 'description': 'ì§„í•œ ì´ˆì½œë¦¿ ë‘ ë°°ë¡œ ë”ìš± í’ë¶€í•œ ë§›ì„ ì¦ê²¨ë³´ì„¸ìš”.'},
        {'name': 'ì½”ì½”ì•„', 'type': 'coffee', 'description': 'ë”°ëœ»í•˜ê³  ë‹¬ì½¤í•œ ì½”ì½”ì•„ë¡œ í¸ì•ˆí•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'ì•„ì´ìŠ¤ ì½”ì½”ì•„', 'type': 'coffee', 'description': 'ì‹œì›í•œ ì½”ì½”ì•„ë¡œ ìƒì¾Œí•œ í•˜ë£¨ë¥¼ ì‹œì‘í•˜ì„¸ìš”.'},
    ]
    
    # ì°¨ ì¢…ë¥˜
    TEAS = [
        {'name': 'ë…¹ì°¨', 'type': 'tea', 'description': 'ì‹ ì„ í•˜ê³  ê¹”ë”í•œ ë§›ìœ¼ë¡œ ë§ˆìŒì„ ì •í™”ì‹œì¼œì¤ë‹ˆë‹¤.'},
        {'name': 'í™ì°¨', 'type': 'tea', 'description': 'ë”°ëœ»í•˜ê³  ì§„í•œ ë§›ìœ¼ë¡œ í•˜ë£¨ë¥¼ í¸ì•ˆí•˜ê²Œ ì‹œì‘í•˜ì„¸ìš”.'},
        {'name': 'ìš°ë¡±ì°¨', 'type': 'tea', 'description': 'ì€ì€í•œ í–¥ê³¼ ê¹Šì€ ë§›ìœ¼ë¡œ ì—¬ìœ ë¡œìš´ ì‹œê°„ì„ ì¦ê¸°ì„¸ìš”.'},
        {'name': 'ììŠ¤ë¯¼ì°¨', 'type': 'tea', 'description': 'í–¥ê¸‹í•œ ê½ƒí–¥ê¸°ë¡œ ë§ˆìŒì„ ë‹¬ë˜ì£¼ëŠ” í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ìºëª¨ë§ˆì¼', 'type': 'tea', 'description': 'ë¶€ë“œëŸ½ê³  ì§„ì • íš¨ê³¼ê°€ ìˆëŠ” ì°¨ë¡œ í¸ì•ˆí•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'í˜í¼ë¯¼íŠ¸', 'type': 'tea', 'description': 'ìƒì¾Œí•œ ë¯¼íŠ¸ í–¥ìœ¼ë¡œ ê¸°ë¶„ì„ ì „í™˜ì‹œì¼œì¤ë‹ˆë‹¤.'},
        {'name': 'íˆë¹„ìŠ¤ì»¤ìŠ¤', 'type': 'tea', 'description': 'ìƒˆì½¤ë‹¬ì½¤í•œ ë§›ìœ¼ë¡œ í™œë ¥ì„ ë¶ˆì–´ë„£ì–´ì¤ë‹ˆë‹¤.'},
        {'name': 'ì–¼ê·¸ë ˆì´', 'type': 'tea', 'description': 'ì€ì€í•œ ë² ë¥´ê°€ëª» í–¥ìœ¼ë¡œ ìš°ì•„í•œ í•˜ë£¨ë¥¼ ì‹œì‘í•˜ì„¸ìš”.'},
        {'name': 'ë£¨ì´ë³´ìŠ¤', 'type': 'tea', 'description': 'ë¶€ë“œëŸ½ê³  ë‹¬ì½¤í•œ ë§›ìœ¼ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ í’€ì–´ì¤ë‹ˆë‹¤.'},
        {'name': 'ë¼ë²¤ë”', 'type': 'tea', 'description': 'í‰ì˜¨í•œ í–¥ìœ¼ë¡œ ë§ˆìŒì„ ì§„ì •ì‹œì¼œì¤ë‹ˆë‹¤.'},
        {'name': 'ë¡œì¦ˆí™', 'type': 'tea', 'description': 'ë¹„íƒ€ë¯¼ì´ í’ë¶€í•œ ìƒˆì½¤í•œ ë§›ìœ¼ë¡œ ê±´ê°•í•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'ëŒ€ì¶”ì°¨', 'type': 'tea', 'description': 'ë‹¬ì½¤í•˜ê³  ë”°ëœ»í•œ ë§›ìœ¼ë¡œ ëª¸ì„ ë”°ëœ»í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.'},
        {'name': 'ìƒê°•ì°¨', 'type': 'tea', 'description': 'ë”°ëœ»í•˜ê³  ìê·¹ì ì¸ ë§›ìœ¼ë¡œ ëª¸ì„ ë”°ëœ»í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.'},
        {'name': 'ìœ ìì°¨', 'type': 'tea', 'description': 'ìƒˆì½¤ë‹¬ì½¤í•œ ë§›ìœ¼ë¡œ ê¸°ë¶„ì„ ìƒì¾Œí•˜ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.'},
        {'name': 'ë³´ì´ì°¨', 'type': 'tea', 'description': 'ê¹Šê³  ì§„í•œ ë§›ìœ¼ë¡œ ì‹œê°„ì„ ì—¬ìœ ë¡­ê²Œ ì¦ê¸°ì„¸ìš”.'},
        {'name': 'ë°±ì°¨', 'type': 'tea', 'description': 'ì€ì€í•˜ê³  ë¶€ë“œëŸ¬ìš´ ë§›ìœ¼ë¡œ ë§ˆìŒì„ í‰ì˜¨í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.'},
        {'name': 'í™©ì°¨', 'type': 'tea', 'description': 'ë“œë¬¼ê³  ê·€í•œ ì°¨ë¡œ íŠ¹ë³„í•œ í•˜ë£¨ë¥¼ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.'},
        {'name': 'ë‹¤ì¦ë§', 'type': 'tea', 'description': 'í–¥ê¸‹í•˜ê³  ê¹”ë”í•œ ë§›ìœ¼ë¡œ ìš°ì•„í•œ í•˜ë£¨ë¥¼ ì‹œì‘í•˜ì„¸ìš”.'},
        {'name': 'ì–¼ì‘¹', 'type': 'tea', 'description': 'ì€ì€í•œ ê½ƒí–¥ê¸°ë¡œ ë§ˆìŒì„ ë‹¬ë˜ì£¼ëŠ” í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ì •ê´€ìŒ', 'type': 'tea', 'description': 'ê¹Šê³  ì§„í•œ ë§›ìœ¼ë¡œ ì—¬ìœ ë¡œìš´ ì‹œê°„ì„ ì¦ê¸°ì„¸ìš”.'},
        {'name': 'ìš©ì •ì°¨', 'type': 'tea', 'description': 'ì‹ ì„ í•˜ê³  ê¹”ë”í•œ ë§›ìœ¼ë¡œ ë§ˆìŒì„ ì •í™”ì‹œì¼œì¤ë‹ˆë‹¤.'},
        {'name': 'ë°±í˜¸ì€ì¹¨', 'type': 'tea', 'description': 'ì€ì€í•˜ê³  ë¶€ë“œëŸ¬ìš´ ë§›ìœ¼ë¡œ í‰ì˜¨í•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'ìš©ì •ë…¹ì°¨', 'type': 'tea', 'description': 'ì‹ ì„ í•˜ê³  ê¹”ë”í•œ ë§›ìœ¼ë¡œ ìƒì¾Œí•œ í•˜ë£¨ë¥¼ ì‹œì‘í•˜ì„¸ìš”.'},
        {'name': 'ì§„ì£¼ì°¨', 'type': 'tea', 'description': 'ë‘¥ê·¼ ê³µ ëª¨ì–‘ì˜ ì°¨ë¡œ íŠ¹ë³„í•œ í•œì”ì„ ì¦ê¸°ì„¸ìš”.'},
        {'name': 'ë™ì •ì¶˜', 'type': 'tea', 'description': 'ë´„ì— ë”°ëŠ” ì‹ ì„ í•œ ì°¨ë¡œ í™œë ¥ì„ ë¶ˆì–´ë„£ì–´ì¤ë‹ˆë‹¤.'},
        {'name': 'ìœ¨ë¬´ì°¨', 'type': 'tea', 'description': 'ê³ ì†Œí•˜ê³  ë¶€ë“œëŸ¬ìš´ ë§›ìœ¼ë¡œ ëª¸ì„ ë”°ëœ»í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.'},
        {'name': 'ì˜¥ìˆ˜ìˆ˜ì°¨', 'type': 'tea', 'description': 'ê³ ì†Œí•œ ì˜¥ìˆ˜ìˆ˜ í–¥ìœ¼ë¡œ í¸ì•ˆí•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'í˜„ë¯¸ì°¨', 'type': 'tea', 'description': 'ê³ ì†Œí•˜ê³  ë”°ëœ»í•œ ë§›ìœ¼ë¡œ ëª¸ì„ ë”°ëœ»í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.'},
        {'name': 'ë‘¥ê¸€ë ˆì°¨', 'type': 'tea', 'description': 'ë‹¬ì½¤í•˜ê³  ë¶€ë“œëŸ¬ìš´ ë§›ìœ¼ë¡œ ë§ˆìŒì„ ë‹¬ë˜ì£¼ëŠ” í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ìˆ˜ì •ê³¼', 'type': 'tea', 'description': 'ë‹¬ì½¤í•˜ê³  ì‹œì›í•œ ì „í†µ ìŒë£Œë¡œ ìƒì¾Œí•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'ì‹í˜œ', 'type': 'tea', 'description': 'ë‹¬ì½¤í•˜ê³  ì‹œì›í•œ ì „í†µ ìŒë£Œë¡œ ì—¬ìœ ë¡œìš´ ì‹œê°„ì„ ì¦ê¸°ì„¸ìš”.'},
        {'name': 'ë§¤ì‹¤ì°¨', 'type': 'tea', 'description': 'ìƒˆì½¤ë‹¬ì½¤í•œ ë§›ìœ¼ë¡œ ê¸°ë¶„ì„ ìƒì¾Œí•˜ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.'},
        {'name': 'ì˜¤ë¯¸ìì°¨', 'type': 'tea', 'description': 'ìƒˆì½¤ë‹¬ì½¤í•œ ë§›ìœ¼ë¡œ í™œë ¥ì„ ë¶ˆì–´ë„£ì–´ì¤ë‹ˆë‹¤.'},
        {'name': 'ëª¨ê³¼ì°¨', 'type': 'tea', 'description': 'ì€ì€í•œ í–¥ê³¼ ë‹¬ì½¤í•œ ë§›ìœ¼ë¡œ ë§ˆìŒì„ ë‹¬ë˜ì£¼ëŠ” í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ê°ìì°¨', 'type': 'tea', 'description': 'ë¶€ë“œëŸ½ê³  ê¹”ë”í•œ ë§›ìœ¼ë¡œ í¸ì•ˆí•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'êµ¬ê¸°ìì°¨', 'type': 'tea', 'description': 'ë‹¬ì½¤í•˜ê³  ë”°ëœ»í•œ ë§›ìœ¼ë¡œ ê±´ê°•í•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'ì¸ì‚¼ì°¨', 'type': 'tea', 'description': 'ë”°ëœ»í•˜ê³  ì§„í•œ ë§›ìœ¼ë¡œ í™œë ¥ì„ ë¶ˆì–´ë„£ì–´ì¤ë‹ˆë‹¤.'},
        {'name': 'í™ì‚¼ì°¨', 'type': 'tea', 'description': 'ë”°ëœ»í•˜ê³  ì§„í•œ ë§›ìœ¼ë¡œ ê±´ê°•í•œ í•˜ë£¨ë¥¼ ì‹œì‘í•˜ì„¸ìš”.'},
        {'name': 'ë‹¹ê·€ì°¨', 'type': 'tea', 'description': 'ë”°ëœ»í•˜ê³  ë¶€ë“œëŸ¬ìš´ ë§›ìœ¼ë¡œ ëª¸ì„ ë”°ëœ»í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.'},
        {'name': 'ì‘¥ì°¨', 'type': 'tea', 'description': 'ì€ì€í•œ ì‘¥ í–¥ìœ¼ë¡œ ë§ˆìŒì„ ì§„ì •ì‹œì¼œì£¼ëŠ” í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ë°•í•˜ì°¨', 'type': 'tea', 'description': 'ìƒì¾Œí•œ ë¯¼íŠ¸ í–¥ìœ¼ë¡œ ê¸°ë¶„ì„ ì „í™˜ì‹œì¼œì¤ë‹ˆë‹¤.'},
        {'name': 'ë ˆëª¬ê·¸ë¼ìŠ¤', 'type': 'tea', 'description': 'ìƒì¾Œí•œ ë ˆëª¬ í–¥ìœ¼ë¡œ í™œë ¥ì„ ë¶ˆì–´ë„£ì–´ì¤ë‹ˆë‹¤.'},
        {'name': 'ì§„ì €ë ˆëª¬', 'type': 'tea', 'description': 'ë”°ëœ»í•˜ê³  ìƒì¾Œí•œ ë§›ìœ¼ë¡œ ëª¸ì„ ë”°ëœ»í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.'},
        {'name': 'ìœ ì¹¼ë¦½íˆ¬ìŠ¤', 'type': 'tea', 'description': 'ìƒì¾Œí•œ í–¥ìœ¼ë¡œ ê¸°ë¶„ì„ ì „í™˜ì‹œì¼œì¤ë‹ˆë‹¤.'},
        {'name': 'ë ˆëª¬ë°¤', 'type': 'tea', 'description': 'ì€ì€í•œ ë ˆëª¬ í–¥ìœ¼ë¡œ ë§ˆìŒì„ ë‹¬ë˜ì£¼ëŠ” í•œì”ì…ë‹ˆë‹¤.'},
        {'name': 'ë¡œì¦ˆë§ˆë¦¬', 'type': 'tea', 'description': 'í–¥ê¸‹í•œ í—ˆë¸Œ í–¥ìœ¼ë¡œ í™œë ¥ì„ ë¶ˆì–´ë„£ì–´ì¤ë‹ˆë‹¤.'},
        {'name': 'íƒ€ì„', 'type': 'tea', 'description': 'ì€ì€í•œ í—ˆë¸Œ í–¥ìœ¼ë¡œ í¸ì•ˆí•œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”.'},
        {'name': 'ì„¸ì´ì§€', 'type': 'tea', 'description': 'ë¶€ë“œëŸ½ê³  ì§„ì • íš¨ê³¼ê°€ ìˆëŠ” ì°¨ë¡œ ë§ˆìŒì„ í‰ì˜¨í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.'},
    ]
    
    def __init__(self):
        pass
    
    def suggest_drink(self, birth_date: str, date_str: Optional[str] = None) -> Dict:
        """
        ìƒë…„ì›”ì¼ê³¼ ë‚ ì§œ ê¸°ë°˜ìœ¼ë¡œ ì˜¤ëŠ˜ì˜ í•œì” ì¶”ì²œ
        
        Args:
            birth_date: ìƒë…„ì›”ì¼ (YYYY-MM-DD)
            date_str: ë‚ ì§œ (YYYY-MM-DD), Noneì´ë©´ ì˜¤ëŠ˜ ë‚ ì§œ
        
        Returns:
            ìŒë£Œ ì •ë³´ ë”•ì…”ë„ˆë¦¬
        """
        if date_str is None:
            date_str = datetime.now().strftime('%Y-%m-%d')
        
        # ë‚ ì§œì™€ ìƒë…„ì›”ì¼ì„ ì¡°í•©í•˜ì—¬ ì‹œë“œ ìƒì„±
        seed_str = f"{date_str}_{birth_date}_drink"
        seed_hash = int(hashlib.md5(seed_str.encode()).hexdigest(), 16)
        
        # ìƒë…„ì›”ì¼ì—ì„œ ì •ë³´ ì¶”ì¶œ
        birth_dt = datetime.strptime(birth_date, '%Y-%m-%d')
        month = birth_dt.month
        day = birth_dt.day
        
        # ì‹œê°„ëŒ€ë³„ ì¶”ì²œ (ì˜¤ì „/ì˜¤í›„/ì €ë…)
        current_hour = datetime.now().hour
        if current_hour < 12:
            time_of_day = 'morning'
        elif current_hour < 18:
            time_of_day = 'afternoon'
        else:
            time_of_day = 'evening'
        
        # ì»¤í”¼ vs ì°¨ ì„ íƒ (ì‹œë“œ ê¸°ë°˜, 50:50 í™•ë¥ )
        is_coffee = (seed_hash % 2 == 0)
        
        if is_coffee:
            # ì»¤í”¼ ì„ íƒ
            drink_list = self.COFFEES
            drink_type = 'coffee'
            drink_type_korean = 'ì»¤í”¼'
        else:
            # ì°¨ ì„ íƒ
            drink_list = self.TEAS
            drink_type = 'tea'
            drink_type_korean = 'ì°¨'
        
        # íŠ¹ì • ìŒë£Œ ì„ íƒ (ì‹œë“œ ê¸°ë°˜)
        drink_idx = seed_hash % len(drink_list)
        selected_drink = drink_list[drink_idx].copy()
        
        # ì‹œê°„ëŒ€ë³„ ì„¤ëª… ì¶”ê°€
        time_messages = {
            'morning': 'ì•„ì¹¨ì— ë§ˆì‹œê¸° ì¢‹ì€',
            'afternoon': 'ì˜¤í›„ì— ì¦ê¸°ê¸° ì¢‹ì€',
            'evening': 'ì €ë…ì— ë§ˆì‹œê¸° ì¢‹ì€'
        }
        
        # ì¶”ê°€ ì •ë³´
        drink_info = {
            'name': selected_drink['name'],
            'type': drink_type,
            'type_korean': drink_type_korean,
            'description': selected_drink['description'],
            'time_of_day': time_of_day,
            'time_message': time_messages[time_of_day],
            'date': date_str,
            'birth_date': birth_date,
            'emoji': 'â˜•' if is_coffee else 'ğŸµ',
        }
        
        return drink_info


if __name__ == '__main__':
    # í…ŒìŠ¤íŠ¸
    suggester = DrinkSuggester()
    drink = suggester.suggest_drink('1990-05-15')
    import json
    print(json.dumps(drink, ensure_ascii=False, indent=2))

